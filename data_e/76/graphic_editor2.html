<!-- 
-->
<DOCTYPE HTML>
<html id="mainhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Simple drawing tool with Core Graphics</title>
  <link rel="stylesheet" type="text/css" href="/lib/document.css">
</head>
<body id="mainbody">
<!-- ↓↓↓↓↓↓↓↓↓↓↓ -->
<script type="text/javascript" src="/lib/funcs1.js"></script>
<!-- ↑↑↑↑↑↑↑↑↑↑ -->
<div id="content">
<h2 class="lm70 tm20 bm0">Simple drawing tool with Core Graphics</h2>
<div class="lm100 tm20 rm60">
I implemented the same function as <a href='/data_e/75/graphic_editor1.html' target="_blank">Simple drawing tool with CALayer class</a> using  Core Graphics.    
</div>

<!-- 画像 -->
<a href="/lib/HTMLofImage.html?filename=/data/76/graphic_editor2_2.png&title=graphic_editor2_2&width=700" target="_new">
<img class="lm120 tm20 bm0" src="/data/76/graphic_editor2_2.png" alt="[graphic_editor2_2]" width="450"></a>
<!-- 動画 -->
<div class="lm130 tm5 bm0 rrm60">
<a href="/lib/HTMLofVideo.html?filename=/data/76/graphic_editor2.mp4&title=graphic_editor2&width=700" target="_new">
Click here to see the video
</a>
</div>
<div class="lm100 tm20 rm60">
Core Graphics is a low-level drawing tool.
You draw  shapes directly into a view's Graphics context using  CGContex functions.
</div>
<div class="lm100 tm0 rm60">
In this application, you draw a shape on a view object and add it to the parent view  regarded  as a canvas.
The view in which a figure is drawn  should be made the same size as the parent view and overlapped.
As a result, the coordinates of the parent view specified with mouse operations matchthe coordinates of the view in which figures will be drawin.
</div>
<h3 class="lm100 tm10 rm60 bm0">
UAShapeItem class that displays a  rectangle
</h3>
<!--ソースコード-->
<iframe class="lm100 tm5" src="/lib/HTMLofText.html?filename=/data/76/UAShapeItem.h&font=font100" width="550" height="620"></iframe>

<h3 class="lm100 tm20 rm60 bm0">
How to draw a rectangle
</h3>
<div class="lm100 tm0 rm60">
Override drawRect method of  NSView class.
You get a graphic context and use  CGContext function to draw a rectangle at the specified position and size with the specified line width and color.
</div>
<!--ソースコード-->
<iframe class="lm100 tm5" src="/lib/HTMLofText.html?filename=/data/76/drawRect.txt&font=font100" width="550" height="220"></iframe>
<h3 class="lm100 tm20 rm60 bm0">
Displaying and erasing a shape
</h3>
<div class="lm100 tm0 rm60">
To display a shape, you add the drawn view to the parent view.
</div>
<!--ソースコード-->
<iframe class="lm100 tm0" src="/lib/HTMLofText.html?filename=/data/76/add.txt&font=font100" width="550" height="50"></iframe>
<div class="lm100 tm10 rm60">
To remove the shape, remove the added view from the parent view.
</div>
<!--ソースコード-->
<iframe class="lm100 tm0" src="/lib/HTMLofText.html?filename=/data/76/remove.txt&font=font100" width="550" height="50"></iframe>
<h3 class="lm100 tm20 bm0 rm60">
frame propertie and bounds propertie
</h3>
<div class="lm100 tm5 rm60">
Frame propertie and bounds propertie of a view are shown in the below  figure.    
The origin of the frame property is determined by its position with the parent view.    
</div>
<!-- 画像 -->
<a href="/lib/HTMLofImage.html?filename=/data/76/graphic_editor2_3.png&title=graphic_editor2_3&width=700" target="_new">
<img class="lm100 tm10 bm0" src="/data/76/graphic_editor2_3.png" alt="[graphic_editor2_3]" width="350"></a>
<div class="lm100 tm10 rm60">
In this application, when generating a child view to be pasted to the parent view, frame property should be equal to bounds property of the parent view.
The origin of frame property  of the parent view is the position displayed in Content view corresponding to its parent view.
</div>
<div class="lm100 tm10 rm60">
If the parent view does not completely overlap Content view, and you use frame property of the parent view  for frame property of the child view, the child view will be misaligned by that difference.    
</div>
<h3 class="lm100 tm20 bm0 rm60">
Source Code
</h3>
<!--ソースコードリンク-->
<div class="lm100 tm5 rrm60">
<a href="/lib/HTMLofText.html?filename=/data/76/source/UAView.txt&title=UAView" target="_new">UAView</a>
</div>
<div class="lm100 tm5 rrm60">
<a href="/lib/HTMLofText.html?filename=/data/76/source/UAShapeManager.txt&title=UAShapeManager" target="_new">UAShapeManager</a>
</div>
<div class="lm100 tm5 rrm60">
<a href="/lib/HTMLofText.html?filename=/data/76/source/UAShapeItem.txt&title=UAShapeItem" target="_new">UAShapeItem</a>
</div>
<div class="bp40"></div><!-- 空白行 -->
<!----------------------------------------------->
</div><!-- end of content -->
<footer id="mainfooter">
<div class="tp10 bm10 bp10 textright"> <span class="rm500 font80"><a href="/lib/index1.html">メニューに戻る</a></span><span class="rm20 font80"><a href="#mainheader">TOPに戻る</a></span></div>
</footer>
<script type="text/javascript" src="/lib/access/access2.js"></script>
</body>
</html>
