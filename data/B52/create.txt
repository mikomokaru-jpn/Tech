func createImage() -> Data?{    //出力用コンテキストの作成    let imageColorSpace = CGColorSpace(name: CGColorSpace.sRGB)    guard let newContext = CGContext.init(        data: nil,        width: Int(self.frame.width),        height: Int(self.frame.height),        bitsPerComponent: 8,        bytesPerRow: Int(self.frame.width) * 4,        space: imageColorSpace!,        bitmapInfo: CGImageAlphaInfo.premultipliedLast.rawValue) else{        return nil    }    //ビューイメージをコンテキストに描き出す    self.layer!.render(in: newContext)    //コンテキストからCGImageオブジェクトを取得する    guard let cgImage = newContext.makeImage() else {        return nil    }    //ビットマップイメージに変換する    let bitmap = NSBitmapImageRep.init(cgImage: cgImage)    //png形式のDataオブジェクトに変換する    let exporttData = bitmap.representation(using: .png,                                            properties: [:])    return exporttData    // Dataクラスのwrite(to:options:)メソッドでファイルに出力する    }