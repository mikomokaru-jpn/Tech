<!-- 
-->
<DOCTYPE HTML>
<html id="mainhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>opensouce COBOLをMacで使ってみる</title>
  <link rel="stylesheet" type="text/css" href="/lib/document.css">
</head>
<body id="mainbody">
<!-- ↓↓↓↓↓↓↓↓↓↓↓ -->
<script type="text/javascript" src="/lib/funcs5.js"></script>
<!-- ↑↑↑↑↑↑↑↑↑↑ -->
<div id="content">
<h2 class="lm70 tm20 bm0">
opensouce COBOLをMacで使ってみる
</h2>
<div class="lm70 tm10 rm60">
opensouce COBOLコンパイラは、COBOLソースコードをCソースコードに翻訳し、GNUコンパイラによりUNIX環境で実行可能な exeファイルを作成する。
</div>
<h3 class="lm70 tm5 rm60 bm0">
macOS 10.14.6 
</h3>

<h3 class="lm70 tm20 bm0">
インストール
</h3>
<div class="lm70 tm5 rm60">
インストールコマンド
</div>
<!--ソースコード-->
<iframe class="lm70 tm5" src="/lib/HTMLofText.html?filename=/cobol/1/brew.txt" width="580" height="40"></iframe>
<div class="lm70 tm10 rm60">
インストールディレクトリ
</div>
<!--ソースコード-->
<iframe class="lm70 tm5" src="/lib/HTMLofText.html?filename=/cobol/1/dir.txt" width="580" height="180"></iframe>
<div class="lm70 tm10 rm60">
バージョン
</div>
<!--ソースコード-->
<iframe class="lm70 tm5" src="/lib/HTMLofText.html?filename=/cobol/1/ver.txt" width="580" height="60"></iframe>
<div class="lm70 tm10 rm60">
ビルドコマンド
</div>
<div class="lm70 tm0 rm60">
ソースファイルの拡張子は一般的に .cbl、.cob を使用する。（これ以外でも一応コンパイルはできる）
</div>
<!--ソースコード-->
<iframe class="lm70 tm5" src="/lib/HTMLofText.html?filename=/cobol/1/build.txt" width="580" height="60"></iframe>
<div class="lm70 tm10 rm60">
実行
</div>
<!--ソースコード-->
<iframe class="lm70 tm5" src="/lib/HTMLofText.html?filename=/cobol/1/run.txt" width="580" height="40"></iframe>
<div class="lm70 tm10 rm60">
Cソースコードを出力するコマンド
</div>
<!--ソースコード-->
<iframe class="lm70 tm5" src="/lib/HTMLofText.html?filename=/cobol/1/c.txt" width="580" height="40"></iframe>
<div class="lm70 tm10 rm60">
コマンドの詳細はヘルプを参照のこと
</div>
<!--ソースコード-->
<iframe class="lm70 tm5" src="/lib/HTMLofText.html?filename=/cobol/1/help.txt" width="580" height="40"></iframe>
<h3 class="lm70 tm20 bm0 rm60">
ソースコードエディタ
</h3>
<div class="lm70 tm0 rm60">
Visual Stadio Code 
</div>
<div class="lm70 tm10 rm60">
EXTENSION 
</div>
<div class="lm70 tm0 rm60">
COBOL Source colouriser (Free)
</div>
<!-- 画像 -->
<a href="/lib/HTMLofImage.html?filename=/cobol/1/cob01.png&title=cob01&width=800" target="_new">
<img class="lm70 tm10 bm0" src="cob01.png" alt="[cob01.png]" width="500"></a>
<h3 class="lm70 tm30 bm0 rm60">
PC環境でファイルを扱う
</h3>
<div class="lm70 tm10 rm60">
PCのテキストファイルを読み書きするためには、ファイルの宣言でファイル編成は行順ファイル（LINE SEQUENTIAL）とすること。
</div>
<!--ソースコード-->
<iframe class="lm70 tm5" src="/lib/HTMLofText.html?filename=/cobol/1/organization.txt" width="580" height="60"></iframe>
<h4 class="lm70 tm30 bm0 rm60">
COBOLのコーディング技法について
</h4>
<h3 class="lm70 tm10 bm0 rm60">
ピリオドルール
</h3>
<div class="lm70 tm5 rm60">
ROCEDURE DIVISIONにおける命令文のピリオドについて整理する。
</div>
<div class="lm70 tm10 rm60">
SECTION名、段落名の終わりにはピリオドをつける。
</div>
<div class="lm70 tm10 rm60">
SECTIONまたは段落はひとつまたは複数の命令文から構成され、次に現れるSECTION名または段落名までをその範囲とする。このうち最後の命令文にはピリオドをつけなくてはならない。（途中の命令文はピリオドをつけてもつけなくてもかまわない）
</div>
<div class="lm70 tm10 rm60">
命令文には、次のようにステートメントとEND-ステートメントの間に複数の命令文を構成するもがある。（構造化構文と言うらしい？）
</div>
<!--ソースコード-->
<iframe class="lm70 tm0" src="/lib/HTMLofText.html?filename=/cobol/1/malti_statements.txt&font=font100" width="580" height="90"></iframe>
<div class="lm70 tm10 rm60">
これは全体で１命令文とみなし、最後のEND句のみにピリオドをつけること。内側の命令文にピリオドをつけてはならない。内側に構造化構文がネストする場合もピリオドはつけない。
</div>
<div class="lm70 tm10 rm60">
サンプルのコーディングを示す。
</div>
<!--ソースコード-->
<iframe class="lm70 tm0" src="/lib/HTMLofText.html?filename=/cobol/1/TEST001.txt&font=font100" width="580" height="560"></iframe>
<h3 class="lm70 tm30 bm0 rm60">
段落・SECTIONの構造
</h3>
<div class="lm70 tm5 rm60">
前掲のコーディングは言語仕様に則っているのでこれでも良いが、標準的なコーディング例として、段落の終わりにラベルとEXIT文を書くという方法がよく紹介されている。一般的な作法として私もこの方式を採用している。
</div>
<div class="lm70 tm10 rm60">
この形式が意味を持つのは、
段落の途中でGOTO文により段落の終わりに飛び、次のEXIT文を実行する場合である。このようにする目的は、処理の途中で何らかの異常が起こり、そのあとの処理をスキップして、呼び出し元に戻りたいときなどである。
</div>
<div class="lm70 tm10 rm60">
また、EXIT文の前に、エラー時の共通的な後処理（ファイルのクローズなど）を記述することができる。これは一種の try〜catch パターンといえる。
</div>
<!--ソースコード-->
<iframe class="lm70 tm5" src="/lib/HTMLofText.html?filename=/cobol/1/TEST002.txt&font=font100" width="580" height="230"></iframe>
<div class="lm70 tm10 rm60">
構造化されたプログラムにおいて、GOTO文を使って良いのは、このようなフローだけとするのが一般的なルールである。
</div>
<!-- 空白行 -->
<div class="bp40"></div>
<!----------------------------------------------->
</div><!-- end of content -->
<footer id="mainfooter">
<div class="tp10 bm10 bp10 textright"> <span class="rm500 font80"><a href="/lib/index5.html">メニューに戻る</a></span><span class="rm20 font80"><a href="#mainheader">TOPに戻る</a></span></div>
</footer>
<script type="text/javascript" src="/lib/access/access2.js"></script>
</body>
</html>
